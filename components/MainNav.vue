<template>
<div>

  <div class="uk-container tm-container-medium"  id="mainnav">
    <nav class="uk-navbar-container uk-navbar-transparent" uk-navbar>
      <div class="uk-navbar-left">
        <div class="uk-navbar-item">
          <nuxt-link to="/">
            <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 viewBox="0 0 379.9 139.2" width="120" style="enable-background:new 0 0 379.9 139.2;" xml:space="preserve">
<style type="text/css">
	.st0{fill:#fff;}
</style>
<g>
	<g>
		<path class="st0" d="M89.8,75.5l-0.2-22.4c0-1,0-2.1,0-3.1c0-3.3-0.1-5.9-0.1-9.1c-0.1-5.9-4.6-10.1-10.9-10.1h-0.1
			c-2.2,0-4.1,0.2-5.7,0.9L72.7,25c0-3.2-1.1-6-3.1-8c-2.2-2.2-5.1-3.4-8.1-3.4c-1.6,0-3.2,0.3-4.5,0.9c-0.4,0.2-0.7,0.3-1,0.5
			C55.7,8.9,51.1,4.5,44.9,4.5c-0.2,0-0.5,0-0.7,0c-6,0.4-10.1,4.7-10.4,10.7c-1.6-0.9-3.4-1.4-5.3-1.4c-1.7,0-3.3,0.4-5,1.1
			c-4,1.8-6.3,5.6-6.3,10.1l0.4,38.8c-2.5-2-5.6-3.2-9.5-3.7l-6.6-0.9l-0.4,6.7v0.2c0,0.2,0,0.5,0,0.9c0,2,0,4,0.1,6v0.4
			c0.1,4.7,0.1,9.6,0.1,14.4c0,5.7,0.2,10.6,1.3,15.6c2.3,10.2,7.5,18.3,15.5,23.8c6.8,4.8,15,7.3,24.2,7.4c1.6,0,3.2,0,4.8,0
			c3.9,0,7.9-0.1,12.3-0.2c8.1-0.2,15.1-2.8,20.7-7.7c6.7-5.7,10-13.3,9.9-22.4C90,94.8,89.9,85.2,89.8,75.5z M8.4,73.2
			c0-1.9,0-3.8-0.1-5.7c2.8,0.5,4.7,1.6,6.1,3.4c1,1.2,1.5,2.7,1.5,4.5c0.1,2.3,0.1,4.7,0.1,7v2.5c0,1.3,0,2.6,0,3.9
			c0,1.9,0,3.8,0.1,5.6l-0.3,0.1l0.2,1c0,0.1,0,0.2,0.1,0.2c0,0.5,0.2,0.9,0.4,1.4c3.6,12.3,15.8,21.1,29.7,21.1
			c9.7,0,19-4.3,24.8-11.6l0.7-0.8l-6.8-5.5l-0.7,0.8c-4.1,5.2-10.8,8.3-17.9,8.3c-9.8,0-18.4-5.9-21.1-14.2c0-1.3,0-2.6,0-3.9
			c0-0.5,0-1,0-1.4C25,73.9,24.9,58,24.7,42l-0.1-17c0-1.7,0.6-2.8,2-3.4c0.7-0.3,1.3-0.5,2-0.5c0.9,0,1.8,0.4,2.5,1.1
			s1.1,1.6,1.1,2.8c0.1,7,0.1,14,0.2,21l0.1,7.9c0,2.7,0.1,5.4,0.1,8v4.9c0,2.9,1.9,5,4.5,5h0.1c2.7-0.1,4.5-2.1,4.4-5.1l-0.1-13.9
			c-0.1-12.3-0.2-24.6-0.4-36.9c0-2.5,1.3-4,3.5-4.1c0.1,0,0.2,0,0.3,0c2.3,0,3.8,1.5,3.8,3.8c0.1,3.9,0.1,7.9,0.1,11.8
			c0,1.9,0,3.8,0.1,5.7l0.3,26.3v2.5c0,1.7,0,3.5,0.1,5.2c0,2.8,1.9,4.8,4.5,4.8c0.1,0,0.2,0,0.3,0c2.6-0.2,4.4-2.4,4.2-5.4
			c-0.1-1.9-0.1-3.8-0.1-5.6c0-0.9,0-1.8,0-2.7v-3.7C58.1,44.7,58,34.8,57.9,25c0-1.8,0.7-2.9,2.2-3.6c0.5-0.2,1-0.3,1.5-0.3
			c1.1,0,2.2,0.5,2.9,1.2c0.6,0.6,0.9,1.5,0.9,2.7v3.5c0,4.7,0.1,9.4,0.1,14.1c0,1.9,0.1,3.8,0.1,5.8c0,2.1,0.1,4.2,0.1,6.2
			c0,2.3,0,4.7,0,7c0,1,0,2,0,3c0,0.3,0,0.6,0,0.9c0,0.6,0,1.3,0,2c0.1,2.4,2.1,4.3,4.5,4.3c2.5,0,4.4-2,4.4-4.4c0-2,0-4-0.1-6
			c0-1.6-0.1-3.3-0.1-4.9v-1.1c0-4.9-0.1-9.9,0-14.9c0-2,1.6-3.4,3.8-3.4c2.2,0,3.6,1.4,3.7,3.6C82,43.8,82,47,82,50.1
			c0,1.1,0,2.2,0,3.4l0.2,19.6c0.1,10.6,0.2,21.2,0.3,31.8c0.1,6.9-2.4,12.6-7.4,16.8c-4.4,3.7-9.8,5.7-16.2,5.9
			c-4.3,0.1-8.3,0.2-12.1,0.2c-1.6,0-3.1,0-4.7,0c-7.9-0.1-14.5-2.1-20.1-6.1c-6.5-4.6-10.7-10.9-12.6-19.5c-1-4.3-1.2-8.7-1.1-13.9
			C8.6,83,8.5,78,8.4,73.2z"/>
		<path class="st0" d="M64.4,82.6c-2.9,0-5.3,2.4-5.3,5.3s2.4,5.3,5.3,5.3c2.9,0,5.3-2.4,5.3-5.3C69.8,85,67.4,82.6,64.4,82.6z"/>
	</g>
</g>
<g>
	<path class="st0" d="M107.5,84c1.5,0.6,3.3,1.2,5.2,1.6c2,0.5,3.9,0.7,5.9,0.7c2.7,0,4.7-0.3,5.9-0.9c1.2-0.6,1.9-1.7,1.9-3.1
		c0-1.3-0.9-2.6-2.6-3.7c-1.7-1.1-4.4-2.2-8.1-3.4c-4.4-1.4-7.6-3.3-9.5-5.7c-2-2.4-2.9-5.4-2.9-8.9c0-3,0.8-5.5,2.5-7.6
		c1.7-2.1,4-3.7,7.1-4.7c3-1.1,6.5-1.6,10.4-1.6c3.2,0,6,0.3,8.5,0.9c2.5,0.6,4.3,1.2,5.5,1.9l-1.5,10.4c-1-0.9-2.6-1.7-4.8-2.4
		s-4.3-1-6.4-1c-3,0-5.1,0.3-6.4,0.9s-2,1.6-2,3c0,1,0.3,1.8,0.9,2.5c0.6,0.7,1.6,1.3,2.9,2c1.3,0.6,3.3,1.4,5.8,2.2
		c3.4,1.1,6.1,2.4,8.1,3.7c2,1.3,3.5,2.9,4.4,4.6c0.9,1.7,1.4,3.8,1.4,6.2c0,4.9-1.7,8.5-5.1,11c-3.4,2.5-8.2,3.7-14.3,3.7
		c-2.3,0-4.6-0.2-6.9-0.6c-2.3-0.4-4.4-0.8-6.2-1.4c-1.8-0.6-3.2-1.2-4.1-1.8l1.4-10.1C104.9,82.8,106,83.3,107.5,84z"/>
	<path class="st0" d="M181.5,48.2c2.9,1,5,2.8,6.5,5.4c1.4,2.5,2.1,6.1,2.1,10.7v32.1h-7.9c-1.3,0-2.3-0.1-3-0.3c-0.7-0.2-1.2-0.6-1.6-1.2
		c-0.4-0.6-0.6-1.7-0.6-3v-0.3c-1.5,1.4-3.4,2.5-5.6,3.5c-2.2,0.9-4.6,1.4-7.3,1.4c-3.2,0-6-0.7-8.5-2.1c-2.4-1.4-4.3-3.3-5.7-5.7
		c-1.3-2.4-2-5.2-2-8.3c0-2.9,0.7-5.4,2.2-7.4c1.5-2.1,3.6-3.7,6.4-5c4.3-1.9,10.9-2.9,19.9-2.9v-2.6c0-1.5-0.2-2.7-0.7-3.4
		c-0.5-0.7-1.4-1.2-2.7-1.5c-1.3-0.3-3.5-0.4-6.4-0.4c-1.4,0-3.5,0.3-6.3,0.9c-2.8,0.6-5.3,1.3-7.3,2.1l-3-8.2
		c1.2-0.7,2.8-1.4,5-2.3c2.2-0.8,4.6-1.5,7.3-2.1c2.6-0.6,5.2-0.8,7.6-0.8C174.7,46.6,178.6,47.1,181.5,48.2z M173.4,86.2
		c1.6-0.6,2.6-1.2,3.1-1.8V72.5c-1.7,0-3.5,0.2-5.6,0.5c-2.1,0.4-3.6,0.8-4.6,1.2c-1.3,0.5-2.3,1.2-3.1,2c-0.8,0.8-1.2,2.1-1.2,3.7
		c0,2.3,0.6,4.1,1.9,5.3c1.3,1.2,2.9,1.8,4.9,1.8C170.2,87.1,171.8,86.8,173.4,86.2z"/>
	<path class="st0" d="M247.2,46.7l-15.4,50.8c-1.7,5.7-4.1,10.1-7,13.4c-2.9,3.2-6.1,5.4-9.7,6.4c-0.8,0.2-1.9,0.4-3.3,0.6
		c-1.5,0.2-2.6,0.3-3.3,0.3c-0.8,0-2-0.1-3.7-0.3c-1.7-0.2-2.7-0.4-2.9-0.5v-11c0.5,0.2,1.4,0.4,2.5,0.6c1.1,0.2,1.9,0.3,2.4,0.3
		c2.1,0,3.8-0.2,5.3-0.6c1.5-0.4,3-1.4,4.4-3c1.5-1.6,2.6-4.1,3.5-7.5h-5.8l-16.8-49.5h14.7l7.5,26.5l3.6,14.3l3.3-14.3l6-26.5
		H247.2z"/>
	<path class="st0" d="M285.7,46.6v14c-0.7-0.5-1.4-0.9-2.3-1.2c-0.9-0.3-2.1-0.4-3.7-0.4c-4.2,0-7.9,1.6-11,4.7v32.4h-13.6V46.7h12l0.6,7.3
		c0.7-1.2,1.8-2.4,3.2-3.5c1.4-1.1,3.1-2,5-2.7s3.8-1.1,5.8-1.1C283.8,46.6,285,46.6,285.7,46.6z"/>
	<path class="st0" d="M295.7,28c0.8-1.2,1.9-2.2,3.2-3c1.3-0.7,2.7-1.1,4.2-1.1c2.4,0,4.3,0.7,5.7,2.1c1.4,1.4,2.1,3.2,2.1,5.3
		c0,1.4-0.4,2.8-1.2,4.1c-0.8,1.3-1.9,2.3-3.2,3c-1.3,0.7-2.7,1.1-4.2,1.1c-1.5,0-2.8-0.3-4-1c-1.2-0.6-2.1-1.5-2.8-2.7
		s-1-2.4-1-3.8C294.5,30.6,294.9,29.2,295.7,28z M309.7,46.7v49.5h-13.6V46.7H309.7z"/>
	<path class="st0" d="M337.1,46.7l0.3,5.8c2-1.5,4.5-2.8,7.5-4c3-1.2,5.9-1.8,8.6-1.8c3.6,0,6.5,0.6,8.7,1.8c2.3,1.2,3.9,3.2,5.1,6
		c1.1,2.8,1.7,6.6,1.7,11.3v30.5h-13.6V68.7c0-2.7-0.2-4.9-0.7-6.4c-0.4-1.5-1.2-2.6-2.2-3.3c-1-0.7-2.5-1-4.4-1
		c-1.4,0-3.1,0.3-4.9,1c-1.8,0.7-3.4,1.7-4.8,3v34.1h-13.6V46.7H337.1z"/>
</g>
</svg>

          </nuxt-link>
        </div>
      </div>
      <div class="uk-navbar-right">
        <div class="uk-navbar-item uk-visible@m">
          <a href="" class="uk-button contact-button">Contáctanos</a>
        </div>
        <div class="uk-navbar-item">
          <a class="menu-navbar" @click="openMenu()">
              <svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" data-svg="menu">
              <style type="text/css">
                .st0{fill:#fff;}
              </style>
                <rect class="st0" x="2" y="4" width="16" height="1"></rect>
                <rect class="st0" x="2" y="9" width="16" height="1"></rect>
                <rect class="st0" x="2" y="14" width="16" height="1"></rect>
              </svg>
          </a>
        </div>
      </div>
    </nav>
  </div>


  <div class="menu-navbar-container">

    <div class="uk-position-top-right">
      <div class="uk-overlay">
        <button type="button" @click="openMenu()" uk-close></button>
      </div>
    </div>

    <div class="uk-flex uk-flex-middle uk-flex-center" uk-height-viewport>
      <ul class="main-nav uk-list">
        <li class="nav-item"><nuxt-link to="/">Inicio</nuxt-link></li>
        <li class="nav-item"><nuxt-link to="/proyectos">Servicios</nuxt-link></li>
        <li class="nav-item"><nuxt-link to="/">Proyectos</nuxt-link></li>
        <li class="nav-item"><nuxt-link to="/blog">Blog</nuxt-link></li>
        <li class="nav-item"><nuxt-link to="/">Contacto</nuxt-link></li>
      </ul>
    </div>

  </div>

</div>
</template>

<script>
import {
  TimelineLite,
  Back
} from 'gsap'

export default {
  watch: {
    '$route.path': function() {
      if(this.isopen){
        this.openMenu()
      }
    }
  },
  props: ['accent'],
  data() {
    return {
      timeline: null,
      isopen: false,
      navlist: [
        {
          title: 'Áreas',
          links: [
            {
               name: 'Desarrollo Web'
            },
            {
              name: 'Ilustración'
            },
            {
              name: 'Branding'
            },
            {
              name: 'Fotografía'
            }
          ]
        }
      ]
    }
  },
  beforeMount() {
    var vm = this;
    if (process.browser) {
      vm.timeline = new TimelineLite({
        paused: true
      });
    }
  },
  mounted() {
    this.loadAnimation()
  },
  methods: {
    loadAnimation() {

      const children = this.$el.querySelectorAll('.nav-item');

      this.timeline.to('.menu-navbar-container', .8, {
        ease: Power4.easeOut,
        startAt: { x: '-105%', visibility: 'hidden' },
        x: '0%',
        visibility: 'visible'
      }, 'begin')


      for(var i=0; i<children.length; i++){
        this.timeline.to(children[i], .8, {
          ease: Power4.easeOut,
          startAt: { x: '-20%', opacity:0 },
          x: '0%',
          opacity: 1,
        }, 'begin+=' + (.5  + i*0.1 ))
      }

    },
    openMenu() {
      if (!this.isopen) {
        this.timeline.play().timeScale(1);
        this.isopen = true
      } else {
        this.timeline.reverse().timeScale(2);
        this.isopen = false

      }
    },
    handleFocusOut() {
            //this.openMenu()
            console.log('focus out')
        }
  }

}
</script>

<style type="scss">
.menu-navbar-left {
  position: fixed;
  top: 0;
  left: 0;
  background: #fff;
  height: 0;
  width: 100vw;
  z-index: 10;
}

.menu-navbar-container {
  position: fixed;
  top: 0;
  left: 0;
  height: 100vh;
  width: 60%;
  z-index: 11;
  visibility: hidden;
  opacity: 1;
  background: #fff;
  transform: translateX(-100%);
}

.inner-panel{
   transform: scaleX(1);
}

.bottom-margin-large{
  margin-bottom: 40px;
}

</style>
